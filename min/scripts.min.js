/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
!function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var n=window.Cookies,i=window.Cookies=e();i.noConflict=function(){return window.Cookies=n,i}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}return function t(n){function i(t,o,s){var r;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(s=e({path:"/"},i.defaults,s)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*s.expires),s.expires=a}s.expires=s.expires?s.expires.toUTCString():"";try{r=JSON.stringify(o),/^[\{\[]/.test(r)&&(o=r)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var c in s)s[c]&&(l+="; "+c,!0!==s[c]&&(l+="="+s[c]));return document.cookie=t+"="+o+l}t||(r={});for(var d=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,p=0;p<d.length;p++){var m=d[p].split("="),w=m.slice(1).join("=");this.json||'"'!==w.charAt(0)||(w=w.slice(1,-1));try{var h=m[0].replace(u,decodeURIComponent);if(w=n.read?n.read(w,h):n(w,h)||w.replace(u,decodeURIComponent),this.json)try{w=JSON.parse(w)}catch(e){}if(t===h){r=w;break}t||(r[h]=w)}catch(e){}}return r}}return i.set=i,i.get=function(e){return i.call(i,e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i}(function(){})}),function(e,t){"use strict";var n={};e.PubSub=n;var i=e.define;!function(e){var t={},n=-1;function i(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function o(e,t,n){try{e(t,n)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function s(e,t,n){e(t,n)}function r(e,n,i,r){var a,l=t[n],c=r?s:o;if(t.hasOwnProperty(n))for(a in l)l.hasOwnProperty(a)&&c(l[a],e,i)}function a(e,n,o,s){var a=function(e,t,n){return function(){var i=String(e),o=i.lastIndexOf(".");for(r(e,e,t,n);-1!==o;)o=(i=i.substr(0,o)).lastIndexOf("."),r(e,i,t,n)}}(e="symbol"==typeof e?e.toString():e,n,s);return!!function(e){for(var n=String(e),o=Boolean(t.hasOwnProperty(n)&&i(t[n])),s=n.lastIndexOf(".");!o&&-1!==s;)s=(n=n.substr(0,s)).lastIndexOf("."),o=Boolean(t.hasOwnProperty(n)&&i(t[n]));return o}(e)&&(!0===o?a():setTimeout(a,0),!0)}e.publish=function(t,n){return a(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return a(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,i){if("function"!=typeof i)return!1;e="symbol"==typeof e?e.toString():e,t.hasOwnProperty(e)||(t[e]={});var o="uid_"+String(++n);return t[e][o]=i,o},e.subscribeOnce=function(t,n){var i=e.subscribe(t,function(){e.unsubscribe(i),n.apply(this,arguments)});return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&delete t[n]},e.unsubscribe=function(n){var i,o,s,r="string"==typeof n&&(t.hasOwnProperty(n)||function(e){var n;for(n in t)if(t.hasOwnProperty(n)&&0===n.indexOf(e))return!0;return!1}(n)),a=!r&&"string"==typeof n,l="function"==typeof n,c=!1;if(!r){for(i in t)if(t.hasOwnProperty(i)){if(o=t[i],a&&o[n]){delete o[n],c=n;break}if(l)for(s in o)o.hasOwnProperty(s)&&o[s]===n&&(delete o[s],c=!0)}return c}e.clearSubscriptions(n)}}(n),"function"==typeof i&&i.amd?i(function(){return n}):"object"==typeof exports&&(void 0!==module&&module.exports&&(exports=module.exports=n),exports.PubSub=n,module.exports=exports=n)}("object"==typeof window&&window||this),(()=>{let e=null,t=window.innerWidth;window.addEventListener("resize",()=>{window.requestAnimationFrame(()=>{e||(e=setTimeout(()=>{e=null,t!==window.innerWidth&&(t=window.innerWidth,PubSub.publish("windowWidthResize"))},100))})}),window.addEventListener("load",()=>{Cookies.set("fastLoadScript",!0),document.documentElement.style.setProperty("--transitionDefault",".3s")}),window.cssAnimation=(e=>{let t,n,i=document.createElement("cssanimation");switch(e){case"animation":t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};break;case"transition":t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"}}for(n in t)if(void 0!==i.style[n])return t[n]}),window.isInViewport=(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.bottom<=window.innerHeight})})(),(e=>{if(!e.length)return;Array.from(e,e=>{const t=e.closest("form"),n=document.createElement("button"),i=document.createElement("span"),o=e.querySelector(".checkbox-dropdown__btn"),s=o.textContent,r=o.getAttribute("data-declension").split(","),a=e.querySelectorAll(".checkbox-dropdown__input");i.className="checkbox-dropdown__arrow",i.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24"><path d="M8.3 10.3a1 1 0 000 1.41l2.93 2.97c.22.21.5.32.78.32s.56-.1.77-.32l2.93-2.96a1.01 1.01 0 00-.32-1.63.99.99 0 00-1.09.21L12 12.62l-2.3-2.33a.99.99 0 00-1.4 0z"/></svg>',n.setAttribute("type","button"),n.className="checkbox-dropdown__reset button hide",n.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24"><path d="M12 10.59l-5.3-5.3a1 1 0 00-1.4 1.42L10.58 12l-5.3 5.3a1 1 0 001.42 1.4L12 13.42l5.3 5.3a1 1 0 001.4-1.42L13.42 12l5.3-5.3a1 1 0 10-1.42-1.4L12 10.58z"/></svg>',e.appendChild(i),e.appendChild(n);const l=()=>{i.classList.remove("hide"),n.classList.add("hide"),o.textContent=s,e.classList.remove("checkbox-dropdown--checked"),Array.from(a,e=>{e.checked=!1})};t&&t.addEventListener("reset",()=>l()),n.addEventListener("click",()=>l()),Array.from(a,t=>{t.addEventListener("change",()=>{let t,l=0;Array.from(a,e=>{e.checked&&(l++,t=e.nextElementSibling.textContent)}),0===l?(o.textContent=s,e.classList.remove("checkbox-dropdown--checked")):1===l?(i.classList.remove("hide"),n.classList.add("hide"),o.textContent=t,e.classList.add("checkbox-dropdown--checked")):(i.classList.add("hide"),n.classList.remove("hide"),o.textContent=l+" "+((e,t)=>{let n,i=e%100;return n=i>4&&i<21?t[2]:1==(i%=10)?t[0]:i>1&&i<5?t[1]:t[2]})(l,r))})})}),window.addEventListener("click",t=>{const n=t.target.closest(".checkbox-dropdown");Array.from(e,e=>{e===n?t.target.closest(".checkbox-dropdown__btn")&&e.classList.toggle("checkbox-dropdown--open"):e.classList.remove("checkbox-dropdown--open")})})})(document.querySelectorAll(".checkbox-dropdown")),(e=>{e&&window.addEventListener("click",()=>{event.target.closest(".form-search")?(document.body.classList.add("form-search-show"),setTimeout(()=>e.querySelector(".form-search__input").focus(),1)):document.body.classList.remove("form-search-show")})})(document.querySelector(".form-search")),(e=>{e.length&&Array.from(e,e=>{const t=e.querySelector(".form__submit");e.addEventListener("submit",n=>{n.preventDefault(),e.classList.add("is-loading"),t.disabled=!0,fetch(e.getAttribute("action"),{method:"POST",body:new FormData(e)}).then(e=>e.json()).then(n=>{console.log(n),e.classList.remove("is-loading"),t.disabled=!1,n.msg&&(e.reset(),alert(n.msg.title,n.msg.text))})})})})(document.querySelectorAll(".form")),(e=>{if(!e.length)return;const t=document.createElement("script");t.src="/bitrix/templates/biovin/js/inputmask.min.js",t.onload=(()=>{Array.from(e,e=>{let t;e.classList.contains("inputmask--phone")&&(t=new Inputmask({mask:"[+7]|8-999-999-99-99",showMaskOnHover:!1})),t.mask(e)})}),setTimeout(()=>document.head.appendChild(t),Cookies.get("fastLoadScript")?0:1e4)})(document.querySelectorAll(".inputmask")),document.querySelector(".btn-menu-toggle").addEventListener("click",()=>document.body.classList.toggle("menu-show")),(e=>{if(e){const t=e.querySelectorAll(".product-gallery__big-item");e.addEventListener("click",n=>{if(n.target.closest(".product-gallery__link")&&(n.preventDefault(),!n.target.closest(".swiper-container-style"))){const i=n.target.closest(".product-gallery__item");Array.from(e.querySelectorAll(".product-gallery__item"),(e,n)=>{e.classList.toggle("is-current",i===e),t[n].classList.toggle("hide",i!==e)})}})}})(document.querySelector(".product-gallery")),(e=>{if(e&&"IntersectionObserver"in window){const t=e.querySelector(".product__shops");new IntersectionObserver((e,n)=>{Array.from(e,e=>t.classList.toggle("is-hide",e.isIntersecting))}).observe(document.querySelector(".footer"))}})(document.querySelector(".product")),(e=>{if(e&&"IntersectionObserver"in window){new IntersectionObserver((t,n)=>{Array.from(t,t=>{if(t.isIntersecting){const i=t.target;n.unobserve(i);let o=0;Array.from(e.querySelectorAll(".review-stat__details-value"),e=>o+=parseInt(e.textContent)),Array.from(e.querySelectorAll(".review-stat__details-row"),e=>{const t=document.createElement("span"),n=e.querySelector(".review-stat__details-value"),i=parseInt(parseInt(n.textContent)/o*100);t.className="review-stat__details-progress",e.appendChild(t),setTimeout(()=>t.style.width=i+"%",1e3)})}})}).observe(e)}})(document.querySelector(".review-stat__details")),window.selects=(e=>{if(e.querySelector(".select__list"))return;const t=document.createElement("div"),n=document.createElement("span");n.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24"><path d="M8.3 10.3a1 1 0 000 1.41l2.93 2.97c.22.21.5.32.78.32s.56-.1.77-.32l2.93-2.96a1.01 1.01 0 00-.32-1.63.99.99 0 00-1.09.21L12 12.62l-2.3-2.33a1 1 0 00-1.4 0z"/></svg>',t.className="select__value",t.innerHTML='<span class="select__value-inner"></span>',t.appendChild(n),e.appendChild(t);const i=e.closest("form"),o=e.querySelector("select"),s=e.querySelectorAll("option"),r=e.querySelector(".select__value-inner"),a=document.createElement("div");a.className="select__list";let l=o.querySelector('[value="'+o.value+'"]');o.addEventListener("change",()=>{l=o.querySelector('[value="'+o.value+'"]'),r.textContent=l.textContent,e.classList.remove("select--default")});const c=l.textContent;o.disabled&&e.classList.add("select--disabled"),"none"!==o.value&&""!==o.value||e.classList.add("select--default"),r.textContent=e.querySelector('option[value="'+o.value+'"]').textContent,Array.from(s,e=>{const t=document.createElement("button");t.className="button select__list-item",t.setAttribute("type","button"),t.setAttribute("value",e.getAttribute("value")),t.textContent=e.textContent,a.appendChild(t)}),e.addEventListener("click",e=>{e.target.classList.contains("select__list-item")&&(o.value=e.target.getAttribute("value"),o.dispatchEvent(new CustomEvent("change")),i&&i.dispatchEvent(new CustomEvent("change")))}),e.appendChild(a),i&&i.addEventListener("reset",()=>{e.classList.add("select--default"),r.textContent=c})}),window.selectsCollection=document.querySelectorAll(".select"),window.selectsCollection.length&&Array.from(window.selectsCollection,e=>window.selects(e)),window.addEventListener("click",e=>{const t=e.target.closest(".select");Array.from(window.selectsCollection,e=>{e.classList.toggle("select--open",e===t&&!1===t.classList.contains("select--open"))})}),(e=>{e&&(e.addEventListener("change",()=>{e.classList.add("is-loading"),fetch(e.getAttribute("action"),{method:"POST",body:new FormData(e)}).then(e=>e.html()).then(t=>{console.log(t),e.classList.remove("is-loading")})}),window.addEventListener("click",t=>{e.classList.toggle("sort--open",t.target.closest(".sort__btn")&&!1===e.classList.contains("sort--open"))}))})(document.querySelector(".sort")),(e=>{if(!e.length)return;Array.from(e,e=>{let t=null,n=null,i=null;const o=document.createElement("div"),s=document.createElement("div"),r=document.createElement("div"),a=document.createElement("button"),l=document.createElement("button"),c=(e.parentNode.querySelector(".swiper-scrollbar"),e.querySelectorAll(".swiper-slide")),d=(c.length,e.classList.contains("swiper-container--main")),u=e.classList.contains("swiper-container--cards"),p=e.classList.contains("swiper-container--product");s.className="swiper-pagination",o.className="swiper-controls",r.className="swiper-navigation",l.className="swiper-button-prev button",a.className="swiper-button-next button",l.setAttribute("aria-label","Previous slide"),a.setAttribute("aria-label","Next slide"),l.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24"><path d="M9 11l4.6-4.6A.99.99 0 1115 7.8l-3.9 3.9 3.9 3.9a.99.99 0 01-1.4 1.4L9 12.41A1 1 0 019 11z"/></svg>',a.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24"><path d="M15 11a1 1 0 010 1.4L10.4 17A.99.99 0 019 15.6l3.9-3.9L9 7.8a.99.99 0 011.4-1.4L15 11z"/></svg>',r.appendChild(l),r.appendChild(a),o.appendChild(r),o.appendChild(s),i=(()=>{t&&(t.destroy(!1,!0),t=void 0),s.classList.add("hide"),r.classList.add("hide"),o.classList.add("hide"),e.parentNode.classList.remove("swiper-container-style")}),u&&(n=(()=>{i(),e.parentNode.appendChild(o),e.parentNode.classList.add("swiper-container-style"),o.classList.remove("hide"),window.innerWidth<768?(s.classList.remove("hide"),t=new Swiper(e,{loop:!0,pagination:{clickable:!0,el:s,bulletClass:"button",bulletActiveClass:"is-active"}})):window.innerWidth<1250?(r.classList.remove("hide"),t=new Swiper(e,{loop:!0,slidesPerView:2,navigation:{nextEl:a,prevEl:l}})):(r.classList.remove("hide"),t=new Swiper(e,{loop:!0,slidesPerView:3,navigation:{nextEl:a,prevEl:l}}))})),d&&(n=(()=>{if(i(),e.parentNode.classList.add("swiper-container-style"),o.classList.remove("hide"),window.innerWidth<768)s.classList.remove("hide"),t=new Swiper(e,{loop:!0,pagination:{clickable:!0,el:s,bulletClass:"button",bulletActiveClass:"is-active"}});else{const n=document.head.querySelector("title");r.classList.remove("hide"),t=new Swiper(e,{loop:!0,simulateTouch:!1,navigation:{nextEl:a,prevEl:l},autoplay:{delay:5e3},on:{progress:()=>{e.classList.add("is-blur")},slideChange:()=>{t&&(n.textContent=e.swiper.slides[e.swiper.activeIndex].querySelector(".main-swiper__title").textContent)}}})}})),p&&(n=(()=>{if(i(),e.parentNode.classList.add("swiper-container-style"),o.classList.remove("hide"),window.innerWidth<768)e.appendChild(o),s.classList.remove("hide"),t=new Swiper(e,{loop:!0,pagination:{clickable:!0,el:s,bulletClass:"button",bulletActiveClass:"is-active"}});else{e.parentNode.appendChild(o),r.classList.remove("hide");let n=0;Array.from(c,(e,t)=>{e.classList.contains("is-current")&&(n=t)});const i=e.closest(".product-gallery").querySelectorAll(".product-gallery__big-item");t=new Swiper(e,{loop:!0,direction:"vertical",slidesPerView:4,spaceBetween:32,slideActiveClass:"is-current",slideToClickedSlide:!0,initialSlide:n,navigation:{nextEl:a,prevEl:l},on:{slideChange:()=>{Array.from(i,(t,n)=>t.classList.toggle("hide",e.swiper.realIndex!==n))}}})}})),PubSub.subscribe("windowWidthResize",()=>{window.Swiper&&n&&n()}),PubSub.subscribe("swiperJsLoad",()=>{e.appendChild(o),Array.from(e.querySelectorAll('[loading="lazy"]'),e=>e.setAttribute("loading","eager")),Array.from(c,e=>e.classList.remove("hide")),n()})});const t=document.createElement("script");t.src="/bitrix/templates/biovin/js/swiper.min.js",t.onload=(()=>PubSub.publish("swiperJsLoad")),setTimeout(()=>document.head.appendChild(t),Cookies.get("fastLoadScript")?0:1e4)})(document.querySelectorAll(".swiper-container"));